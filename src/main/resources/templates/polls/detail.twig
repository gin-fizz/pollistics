{% extends "../layouts/main.twig" %}

{% block pageTitle %}{{ poll.name }}{% endblock %}
{% block description %}{{ poll.name }} {{ poll.options }}{% endblock %}

{% block content %}
	<h1>{{ poll.name }} (id: {{ poll.id }})</h1>

	<ul>
		{%- for option, nVotes in poll.options %}
		<li>
			<span>{{ option }} ({{ nVotes }} votes)</span>
		</li>
		{%- endfor %}
	</ul>

	<div id="results"></div>
{% endblock %}

{% block scripts %}
	<script>
		var options = [];
		{% for option, nVotes in poll.options -%}
			options.push({label: "{{option}}", value: {{ nVotes }}});
		{% endfor %}
	</script>
	<script src="{{ asset('node_modules/d3/d3.min.js') }}"></script>
	<script src="{{ asset('node_modules/d3pie/d3pie/d3pie.min.js') }}"></script>
	<script src="{{ asset('js/bundle.js') }}"></script>
{% endblock %}
